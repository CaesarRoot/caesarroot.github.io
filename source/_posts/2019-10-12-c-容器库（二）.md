---
title: c++容器库（二）
date: 2019-10-12 23:14:25
categories: [c++]
tags: [c++, 容器, stl]
cover_img:
feature_img:
description:
keywords:
---

# 顺序容器

![image-20191013105905432](https://s2.ax1x.com/2019/10/13/uj7zmn.png)

## 添加元素

容器元素是拷贝。即容器中的元素与提供值的对象之间没有任何关联，修改容器的值不会影响到原始对象，反之亦然。

1. push_back

   追加元素到尾部。array和forward_list不支持此操作。（string支持此操作）

2. push_front

   在头部插入。

   list, forward_list, deque支持此操作

   vector不支持此操作。

3. insert单一插入

   任意位置插入

   接受一个迭代器

   在迭代器之前插入

   vector不支持push_front，但是可以用insert来在前面插入

4. insert范围插入

   ![image-20191013104103186](https://s2.ax1x.com/2019/10/13/ujHMtK.png)

   插入10个"Anna"

   

   ![image-20191013104147612](https://s2.ax1x.com/2019/10/13/ujHm01.png)

   **注**：insert会返回指向第一个新加入元素的迭代器。

   ![image-20191013104502458](https://s2.ax1x.com/2019/10/13/ujH1pD.png)

5. emplace

   emplace可以构造元素，而不单单是拷贝

   参数必须与元素的构造参数相匹配



## 访问元素

包括array在内的每个顺序容器都有一个front函数，除了forward_list之外所有顺序容器都有一个back函数。分别返回首元素和尾元素的引用。

访问容器内容还可以通过解引用迭代器来完成。

![image-20191013110337127](https://s2.ax1x.com/2019/10/13/ujbSjH.png)

注意这里的end迭代器要先递减，然后再解引用。

![image](https://s2.ax1x.com/2019/10/13/ujOA4x.png)

注意访问容器中的元素都是引用访问，因此可以更改值。

如果容器是const的，那么返回的是const的引用。

**注1**：如果用auto c = a.back()，那么返回引用，但是auto自动推断不是引用。要写成auto &c = a.back()

**注2**：下标安全性问题。用下标运算符不会检查越界问题，可以使用at函数，会抛出异常。

![image](https://s2.ax1x.com/2019/10/15/KCGoes.png)



## 删除元素

1. pop_front和pop_back

   分别删除首元素和尾元素。

   vector和string不支持push_front，也不支持pop_front。

   forward_list不支持pop_back。

   这两个函数的返回值都是void，因此如果需要弹出元素的值，那么需要提前取出。

2. erase

   允许从容器中的指定位置删除元素。